$def with (model, homestay)
$code:
    m = model
    h = homestay
<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.01//EN' 'http://www.w3.org/tr/html4/strict.dtd'> 
<html lang="zh-tw"> 
<head><title>民宿基本資料</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
</head>
<body>
<h1>民宿基本資料</h1>
<table>
<tr><td>名稱</td><td>$:h.name</td></tr>
<tr><td>地址</td><td>$:h.address</td></tr>
<tr><td>主人</td><td>$:h.owner</td></tr>
<tr><td>電子郵件</td><td>$:h.email</td></tr>
<tr><td>部落格</td><td>$:h.blog</td></tr>
<tr>
<td><a href="/homestays">回</a>
改
刪
</tr>
</table>
<h2>客房清單</h2>
<table>
<tr>
  <td>名稱</td>
  <td>價位</td>
  <td><a href="/homestays/$:h.key()/rooms/new">新</a></td>
  <td><a href="javascript:history.go(-1)">回</a></td>
  </tr>
$for r in h.room_set:
    <tr>
        <td>$r.name</td>
        <td>$r.price</td>
        <td><a href="/rooms/$:r.key()">查</a></td>
        <td><a href="/rooms/$:r.key()/edit">改</a></td>
        <td><a href="/rooms/$:r.key()/delete">刪</a></td>
    </tr>
</table>
</body>
</html>
