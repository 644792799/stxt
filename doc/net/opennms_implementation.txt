導入開放源碼網路管理系統OpenNMS實作ISO27001
資訊安全管理系統相關控制措施之研究-以花蓮縣地方稅務局為例
---------------------------------------------------------

1.前言

網路管理的工作隨著資訊環境的進步而日漸複雜，
在全球資訊網（World Wide Web , WWW）發明以前，網路上所傳送的資料，大多
是文字檔，而且是侷限在各自的區域網路裡；主要是在進行組織與內部成員之間
的溝通，頂多是少數使用者（如學術研究機構等特定單位）可以透過網際網路傳
送電子郵件（E-Mail）或研究報告而已。在這種的狀況下，對網路頻寬的使用需
求量很小，只需要乙太網路（Ethernet 10M bps）及低速的數據專線即可。但是
自從全球資訊網的出現，帶動整個網際網路（Internet）的快速普及與蓬勃發展
，因此組織內部的網路架構也必須順應這股潮流，提供更豐富多樣的網路服務，
包含了遠距教學、隨選視訊系統（Video On Demand , VOD）、電子商務等，諸
如此類的應用，使網路上流傳的資料包含圖片、影像、聲音……等等各式各樣的數
位資料，這些資料的流通都需要大量的網路頻寬。隨著網際網路的日益發達，區
域網路（Local Area Network , LAN）也朝向ATM、Gigabit等高速網路架構邁進
。另外，在廣域網路（Wide Area Network , WAN）連結方面，使用了T1/E1甚至
T3的高速頻寬，讓使用者能享有更好的網路品質與服務。因此，現代的網路管理
，不只是要保持網路之暢通，還要確保網路的品質。

網際網路的發展帶給使用者更豐富且便捷的資料取得途徑，相對地，由於它的便
利性與不可見性，使用者往往濫用網路資源而不自覺，導致「部份使用者不瞭解
網際網路成文與不成文的規範，造成使用者在網路上，交換無合法版權軟體
、MP3音樂、或電影VCD的資料傳輸行為常常發生，很輕易地就能將寶貴的頻寬消
耗殆盡」[30]，對於網路管理者而言，如何有效地遏止這一類使用者的不當行為
，是很大的挑戰。

1.1.研究動機

網路管理的複雜度，與網路環境的範圍大小與設備種類多寡成正比，
尤其是校園
網路所使用的連線設備，各家廠牌皆有，在諸多的異質網路架構下，如何有效地
管理也是一門深奧的學問。在如此複雜的網路環境中，是無法使用單一種類的管
理工具就能達到整體網路監控的目標，而是必須要結合多項工具，但是由於是異
質網路架構，各家廠商所提供的管理工具，也多只是針對本身所負責的網路設備
才能使用與管理，其相關費用動輒數十萬，所得到的效果卻有限，如果想要相關
廠商能做到完整的管理機制，所搭配的管理工具，費用更是高達百萬。然而，目
前網際網路有許多功能類似的網路管理工具，而且絕大部份都是免費的，若能有
效地整合這些軟體，實際運作在校園網路上，便可達到網路管理與監控的目的。
在校園網路中，伺服器與網路設備的管理，都是運用SNMP（Simple Network
 Management Protocol）管理機制，它所能蒐集的資訊，只是透過該台網路設備
進出的網路流量而已，無法有效掌控網路上使用者的使用情形，例如：所耗用的
網路頻寬狀況？使用何種通訊協定？或是某類通訊協定共使用了多少的網路頻寬
？為了能真正地掌握這些網路使用資訊，除了這類基本的網路管理機制之外，我
們還必須利用RMON（Remote Network Monitoring）網路管理資料交換機制，將
網路上所有使用者的資料傳輸狀況蒐集起來，再結合資料庫的功能，分析出每位
使用者或是每個組織的網路使用狀況，這麼一來，我們就可以依照這些網路使用
資訊做後續的管理工作或是專業建議。
網路頻寬是所有網路使用者所共同享有的，如何有效地運用如此珍貴且有限的資源，是網路管理者必須時時刻刻注意與關心的重要工作。管理者要瞭解每位使用者使用了多少的網路頻寬，同時要防止不當使用行為的發生，勢必需要建置一套網路資料蒐集機制，從蒐集到的數據中，判斷出那些使用者在濫用網路資源，然後針對這些不當使用者做適當的處置，以減輕網路頻寬的負擔，保持網路之暢通與網路的品質。

2.背景知識與相關研究

2.1.網路管理

國際標準組織定義之網路管理概念包括：「組
態管理」、「錯誤管理」、「效能管理」、「會計管理」
及「安全管理」等五大部分，以組態管理為中心，
判定網路的運作狀態是否理想，以便進行管理、修
正與改進。如圖1 所示。


2.2.SNMP

SNMP 是網際網路協定中眾多通訊協定之
一。用於兩個或多個網路實體或節點(如工作站、路
由器等等)間網路管理資訊傳輸。SNMP 通訊協定規
定了Get、GetNext、Set 和Trap 指令行為運作，並
且定義了網路管理系統和代理者之間交換的SNMP
訊息格式。如圖2 所示。


2.4.openNMS

openNMS 是由許多個人及組織，所共同打造
的。從最初到2002 年，程式碼由Oculan Corporation
開發並以GPL 釋出，後來專案的管理移交給Tarus
Balog。openNMS 是世界上第一個用開放原始碼模
式開發的企業級網路管理系統。openNMS 主要是用
Java 開發的，雖然為了實作例如ICMP 這類東西而
用到一些 JNI 來呼叫C 語言程式碼。目前openNMS
支援Linux 的很多不同發行版本，Solaris 和Mac
OSX。openNMS 目前提供了2 種版本，穩定版（1.2.9
版）及測試版（1.5.93 版）目前openNMS 的贊助企
業是The openNMS Group，它們也擁有openNMS
的商標。

openNMS 的操作介面是Web 介面，能夠幫助
IT 管理部門持續的監控網路設備的運作狀態，作業
系統如Windows、Linux、Unix 等，支援SNMP 協
定，只要監控物件支援SNMP 就可以被監控，提供
非常靈活的功能從而有利於管理，內建故障事件管
理以提供故障事件的記錄和分析，可以快速部署，
簡單的圖形介面令使用者迅速掌握，因此降低操作
的複雜度，提高管理效率，如圖4 所示。


3. 設計原理及架構

3.1 設計原理

本論文所架設之網路監控平台，是利用動態輪
詢的方式去監視網路上的各個節點，當網路系統有
發生問題時，將透過此系統通知網路管理人員。透
過SNMP 所看到的裝置資訊，可以與原先運作正常
時的裝置資訊做比對，來確認裝置是否出現異常，
讓網路管理人員可以在第一時間發現網路出現的
異常，將可大大提升網路問題排解的效率，隨著時
間的監控所產生的log 資訊，可以讓網路管理人員
對於常發生的問題作分析比較，能夠精準的找到問
題的相關解決參考資訊，充分的達到資料再利用的
功能。故障通報的部分，除了基本的E-Mail 通知之
外，還加入了MSN 通報的方式，當網路系統發生
問題，能比E-Mail 通知還要更快速的通知網路管理
人員，網路發生問題而停擺的時間將可大大縮短。


本論文所使用的網路監控軟體是openNMS，


3.2 監控架構


現有的故障通報，多是以E-mail 來進行通報，
但因為不可能隨時隨地都在收E-mail，所以E-mail
通知實在是不夠即時，為了增加即時性，本論文採
用MSN 通報的方式，發送系統架構如圖7 所示
本論文一共安裝了三台openNMS 監控系統，
原因是如果左圖東南科技大學的監控系統掛掉，管
理者根本不會收到任何錯誤訊息，而我們使用異地
監控的方式，讓openNMS 監控系統互相監控，只
要有一台openNMS 監控系統發生問題，管理者不
用擔心沒有收到錯誤訊息，如此一來，就不會發生
監控系統發生問題，管理者卻完全不知道的情形。
openNMS 監控架構如圖6 所示。
屬於開放式原始碼，可以任意加入所需要的功能。

操作此系統首先先進入登入首頁，輸入帳號／
密碼，新增所要被監控的機器IP，確認輪詢的時
間，接下來將所要對應的IP 位置及問題訊息，套用
至所要接收錯誤訊息的使用者信箱，系統流程如圖
8 所示。
為了讓網路管理人員知道事件發生的時間縮短，除
了原本的E-mail 通知以外，還加入MSN 來通知。
本論文設計了一段Java 程式去偵測信箱是否有新
的E-mail，如果收到了新的E-mail，將會丟出信件
的主旨給發送MSN 的PHP 程式，PHP 程式收到主
旨後，將會執行程式，發送MSN 訊息給網路管理
人員，這個機制讓故障通報的效率更加的快速了。
虛擬校園網路系統的架設，主要是要能夠模擬
最真實的網路系統，經由這個虛擬網路系統可以讓
本論文的實驗更加符合現在的網路系統。本論文開
啟所有網路設備內建的SNMP 功能，使用週期性的
方式給予SNMP 的封包，若是正常回應，則代表裝
置正常運作。我們所架設的虛擬校園網路系統如圖
5 所示。
圖 5 虛擬校園網路系統架構



4. 成品展示及操作說明
4.1 openNMS 輪詢和發送E-mail 設定
輸 入 Notification E-mail Address 及Duty


5. 成效評估
本 論文乃是研究架構於校園網路上的
openNMS，使用openNMS 監控軟體的Web 介面，
可以隨時的查詢網路裝置的狀態，並利用MSN 的
錯誤通報方式，讓故障通報變得更加即時。表1 為
本論文此次研究所列出之優缺點：
表 1 本論文此次研究所列出之優缺點
優點 缺點
開放程式碼及跨平台安裝過程未必一定成功
操作簡易 英文介面，沒有中文版本
免費
錯誤通報
MSN 改版將無法預測
是否發送正常
OpenNMS 互相監控，網
路停擺一樣收到訊息
MSN 傳訊設定過於繁
瑣，如果不懂程式語言將
不能設定
表 2 為商用網路管理系統與免費網路管理系統
之比較：
表 2 付費監控系統與免費監控系統之比較
openNMS
具備節點自動發
現，服務監控，效
能評估，事件管理
與通知等功能。Open
Source 類
Nagios
可監控網路服務，
主機資源，並以日
誌進行問題追蹤。
HP
OpenView
可在系統中快速找
到所有常見網管問
題之解答，問題分
類也十分完整，但
價格昂貴，不易實
作或設定。Commercial
類
IBM
Tivoli
具自動節點挖掘，
網路拓樸顯示，錯
誤修正與事件管
理，效能資料收集
等功能，但價格昂
貴，難以自行維護
或設定。
表 3 為目前各種錯誤通報方式之比較：
表 3 目前各種錯誤通報方式之比較
通報
方式
功能
E-Mail
(信箱)
SMS
(手機
簡訊)
MSN
(即時
通訊)
效率低 高 中
成本 低 高 低
接收
方式
需上網
接收
即時
需上網
接收
6. 結論
本論文的研究目的在於使用openNMS 軟體來
監控校園網路系統，並使用外掛PHP 模組發送MSN
訊息以達到即時通報的效果。由於現在手機的功能
多半具備上網能力並能連通MSN，故藉由此方式可
以發現校園網路的故障，減少維修的時間。大大節
省人力，避免因設備過多而需要許多網路管理人
員，造成成本效益不均衡以及人力資源的濫用。
本論文的研究過程中，因客觀因素相對資源不
足，只能利用簡易的MSN 發送模組來發送錯誤訊
息；就另一方面考量，本論文不需要提供付費的發
送簡訊模組完成即時通報，優點在於避免了不符合
成本考量的簡訊費用。且本論文所開發之系統是外
掛在E-Mail Server 之上，只要是採用E-mail 通報的
網管系統皆可適用本論文之MSN 通報系統。
經本論文研究，了解openNMS 現階段的問題
在於無法利用MSN 來達成錯誤的即時通報，期望
未來可以將MSN 發送訊息崁入openNMS 系統中，
就不需要另外設定發送E-mail，可以減少設定的繁
瑣跟系統運作的負載；也期望openNMS 可以納入
多語系的功能，讓各國許多網路管理人員也可以使
用openNMS，不必浪費多餘的資源，上網查詢、蒐
集資料來知道如何設定openNMS 系統。
參考文獻
[1] Douglas R.Mauro、Keuin J. Scbmidt，SNMP 網
管實務。美商歐萊禮股份有限公司台灣分公司。
2007。
[2] openNMS：http://www.opennms.org。
[3] 李家朋、江欣鴻、陳懷恩、陳偉銘、趙涵捷
(2008)。架構於OpenNMS 上的校園無線網管系
統。TANET 2008 臺灣網際網路研討會。
[4] 李家朋。基於OpenNMS 偵錯通知及效能分析。
2009。
[5] 唐際和。即時傳訊協定為基礎之網際服務遞送平
台。2008。
Schedules(注意Begin Time，End Time 輸入方式)
後，按Finish 這樣就設定好使用者設定。設定輪詢
5. 成效評估
本 論文乃是研究架構於校園網路上的
openNMS，使用openNMS 監控軟體的Web 介面，
可以隨時的查詢網路裝置的狀態，並利用MSN 的
錯誤通報方式，讓故障通報變得更加即時。表1 為
本論文此次研究所列出之優缺點：
表 1 本論文此次研究所列出之優缺點
優點 缺點
開放程式碼及跨平台安裝過程未必一定成功
操作簡易 英文介面，沒有中文版本
免費
錯誤通報
MSN 改版將無法預測
是否發送正常
OpenNMS 互相監控，網
路停擺一樣收到訊息
MSN 傳訊設定過於繁
瑣，如果不懂程式語言將
不能設定
表 2 為商用網路管理系統與免費網路管理系統
之比較：
表 2 付費監控系統與免費監控系統之比較
openNMS
具備節點自動發
現，服務監控，效
能評估，事件管理
與通知等功能。Open
Source 類
Nagios
可監控網路服務，
主機資源，並以日
誌進行問題追蹤。
HP
OpenView
可在系統中快速找
到所有常見網管問
題之解答，問題分
類也十分完整，但
價格昂貴，不易實
作或設定。Commercial
類
IBM
Tivoli
具自動節點挖掘，
網路拓樸顯示，錯
誤修正與事件管
理，效能資料收集
等功能，但價格昂
貴，難以自行維護
或設定。
表 3 為目前各種錯誤通報方式之比較：
表 3 目前各種錯誤通報方式之比較
通報
方式
功能
E-Mail
(信箱)
SMS
(手機
簡訊)
MSN
(即時
通訊)
效率低 高 中
成本 低 高 低
接收
方式
需上網
接收
即時
需上網
接收
6. 結論
本論文的研究目的在於使用openNMS 軟體來
監控校園網路系統，並使用外掛PHP 模組發送MSN
訊息以達到即時通報的效果。由於現在手機的功能
多半具備上網能力並能連通MSN，故藉由此方式可
以發現校園網路的故障，減少維修的時間。大大節
省人力，避免因設備過多而需要許多網路管理人
員，造成成本效益不均衡以及人力資源的濫用。
本論文的研究過程中，因客觀因素相對資源不
足，只能利用簡易的MSN 發送模組來發送錯誤訊
息；就另一方面考量，本論文不需要提供付費的發
送簡訊模組完成即時通報，優點在於避免了不符合
成本考量的簡訊費用。且本論文所開發之系統是外
掛在E-Mail Server 之上，只要是採用E-mail 通報的
網管系統皆可適用本論文之MSN 通報系統。
經本論文研究，了解openNMS 現階段的問題
在於無法利用MSN 來達成錯誤的即時通報，期望
未來可以將MSN 發送訊息崁入openNMS 系統中，
就不需要另外設定發送E-mail，可以減少設定的繁
瑣跟系統運作的負載；也期望openNMS 可以納入
多語系的功能，讓各國許多網路管理人員也可以使
用openNMS，不必浪費多餘的資源，上網查詢、蒐
集資料來知道如何設定openNMS 系統。
參考文獻
[1] Douglas R.Mauro、Keuin J. Scbmidt，SNMP 網
管實務。美商歐萊禮股份有限公司台灣分公司。
2007。
[2] openNMS：http://www.opennms.org。
[3] 李家朋、江欣鴻、陳懷恩、陳偉銘、趙涵捷
(2008)。架構於OpenNMS 上的校園無線網管系
統。TANET 2008 臺灣網際網路研討會。
[4] 李家朋。基於OpenNMS 偵錯通知及效能分析。
2009。
[5] 唐際和。即時傳訊協定為基礎之網際服務遞送平
台。2008。
5. 成效評估
本 論文乃是研究架構於校園網路上的
openNMS，使用openNMS 監控軟體的Web 介面，
可以隨時的查詢網路裝置的狀態，並利用MSN 的
錯誤通報方式，讓故障通報變得更加即時。表1 為
本論文此次研究所列出之優缺點：
表 1 本論文此次研究所列出之優缺點
優點 缺點
開放程式碼及跨平台安裝過程未必一定成功
操作簡易 英文介面，沒有中文版本
免費
錯誤通報
MSN 改版將無法預測
是否發送正常
OpenNMS 互相監控，網
路停擺一樣收到訊息
MSN 傳訊設定過於繁
瑣，如果不懂程式語言將
不能設定
表 2 為商用網路管理系統與免費網路管理系統
之比較：
表 2 付費監控系統與免費監控系統之比較
openNMS
具備節點自動發
現，服務監控，效
能評估，事件管理
與通知等功能。Open
Source 類
Nagios
可監控網路服務，
主機資源，並以日
誌進行問題追蹤。
HP
OpenView
可在系統中快速找
到所有常見網管問
題之解答，問題分
類也十分完整，但
價格昂貴，不易實
作或設定。Commercial
類
IBM
Tivoli
具自動節點挖掘，
網路拓樸顯示，錯
誤修正與事件管
理，效能資料收集
等功能，但價格昂
貴，難以自行維護
或設定。
表 3 為目前各種錯誤通報方式之比較：
表 3 目前各種錯誤通報方式之比較
通報
方式
功能
E-Mail
(信箱)
SMS
(手機
簡訊)
MSN
(即時
通訊)
效率低 高 中
成本 低 高 低
接收
方式
需上網
接收
即時
需上網
接收

6. 結論

本論文的研究目的在於使用openNMS 軟體來
監控校園網路系統，並使用外掛PHP 模組發送MSN
訊息以達到即時通報的效果。由於現在手機的功能
多半具備上網能力並能連通MSN，故藉由此方式可
以發現校園網路的故障，減少維修的時間。大大節
省人力，避免因設備過多而需要許多網路管理人
員，造成成本效益不均衡以及人力資源的濫用。
本論文的研究過程中，因客觀因素相對資源不
足，只能利用簡易的MSN 發送模組來發送錯誤訊
息；就另一方面考量，本論文不需要提供付費的發
送簡訊模組完成即時通報，優點在於避免了不符合
成本考量的簡訊費用。且本論文所開發之系統是外
掛在E-Mail Server 之上，只要是採用E-mail 通報的
網管系統皆可適用本論文之MSN 通報系統。
經本論文研究，了解openNMS 現階段的問題
在於無法利用MSN 來達成錯誤的即時通報，期望
未來可以將MSN 發送訊息崁入openNMS 系統中，
就不需要另外設定發送E-mail，可以減少設定的繁
瑣跟系統運作的負載；也期望openNMS 可以納入
多語系的功能，讓各國許多網路管理人員也可以使
用openNMS，不必浪費多餘的資源，上網查詢、蒐
集資料來知道如何設定openNMS 系統。

參考文獻

[1] Douglas R.Mauro、Keuin J. Scbmidt，SNMP 網
管實務。美商歐萊禮股份有限公司台灣分公司。
2007。
[2] openNMS：http://www.opennms.org。
[3] 李家朋、江欣鴻、陳懷恩、陳偉銘、趙涵捷
(2008)。架構於OpenNMS 上的校園無線網管系
統。TANET 2008 臺灣網際網路研討會。
[4] 李家朋。基於OpenNMS 偵錯通知及效能分析。
2009。
[5] 唐際和。即時傳訊協定為基礎之網際服務遞送平
台。2008。
時間及電子郵件如圖9 所示。
